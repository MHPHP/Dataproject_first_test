View(test)
test[1]
data_5130[data_5130$site == test[1]]
data_5130$plot[data_5130$site == test[1]]
data_5130$plot[data_5130$site == test[1,]]
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), mean)
help("left_join")
mean_site_pos
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), mean) %>%
rename(c("site", "longtitude_mean_site", "latitude_mean_site"))
rename(mean_site_pos,c("site", "longtitude_mean_site", "latitude_mean_site"))
rename(mean_site_pos, c(longtitude = longtitude_mean_site, latitude = latitude_mean_site))
mean_site_pos
rename(mean_site_pos, longtitude = longtitude_mean_site, latitude = latitude_mean_site)
rename(mean_site_pos, longtitude = longtitude_mean_site = longtitude, latitude_mean_site = longtitude)
rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
mean_site_pos
mean_site_pos <-  rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
mean_site_pos
left_join(data_5130,mean_site_pos, by = site)
left_join(data_5130,mean_site_pos, by = "site")
mean_site_pos <-  rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
data_5130 <-left_join(data_5130,mean_site_pos, by = "site")
View(data_5130)
?mean
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), mean(na.rm = TRUE))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), funs= ( mean(na.rm = TRUE)))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), funs= ( mean(.,na.rm = TRUE)))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), mean(.,na.rm = TRUE))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude), mean = mean(.,na.rm = TRUE))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),funs = (  mean = mean(.,na.rm = TRUE)))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),mean,na.rm = TRUE))
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),mean,na.rm = TRUE)
mean_site_pos <-  rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
data_5130 <-left_join(data_5130,mean_site_pos, by = "site")
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude_site_mean, x = longtitude_site_mean, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = data_5130, aes(y=latitude, x = longtitude, label=site),hjust=0, vjust=0, max.overlaps = 100)
data_2014 <-read.csv("../Data/Processed data/data_2014_5130.csv")
data_5130 <-read.csv("../Data/Processed data/data_5130.csv")
data_5130 <- convert_to_longlat(data_5130, data_5130$UTMx, data_5130$UTMy)
source("functions.r")
data_2014 <-read.csv("../Data/Processed data/data_2014_5130.csv")
data_5130 <-read.csv("../Data/Processed data/data_5130.csv")
data_5130 <- convert_to_longlat(data_5130, data_5130$UTMx, data_5130$UTMy)
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),mean,na.rm = TRUE)
mean_site_pos <-  rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
data_5130 <-left_join(data_5130,mean_site_pos, by = "site")
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude_site_mean, x = longtitude_site_mean, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = data_5130, aes(y=latitude, x = longtitude, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude_mean_site, x = longtitude_mean_site, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = data_5130, aes(y=latitude, x = longtitude, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = data_5130, aes(y=latitude, x = longtitude, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site), alpha = .9, size =2) +
geom_text_repel(data  = data_5130, aes(y=latitude, x = longtitude, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = mean_site_pos, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0, max.overlaps = 100)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0)
?seq
x <- seq(0,1, 100)
sigma <- 0.01^2
tau <- 0.02^2
x <- seq(0,1, length = 100)
plot(x, dnorm(x,2))
plot(x, pnorm(x,2))
?dnorm
plot(x, snorm(x,2,1))
plot(x, dnorm(x,2,1))
plot(x, dnorm(x,0.5,1))
?plot
plot(x, dnorm(x,0.5,1), type = "l")
?linre
?line
plot(x, dnorm(x,0.5,1), type = "l")
line(x)
plot(x, dnorm(x,0.5,1), type = "l")
line(x,2)
plot(x, dnorm(x,0.5,1), type = "l")
line(x,x*2)
plot(x, dnorm(x,0.5,1), type = "l")
line(x,x*2, add = TRUE)
?lines
plot(x, dnorm(x,0.5,1), type = "l")
lines(x,x*2, add = TRUE)
sigma <- 0.01
tau <- 0.02
m <- sigma^2/tau^2
x <- seq(0,1, length = 100)
y <- 0.082
mu_0 <-  0.05
mean_post <- 1/(m+1)*y + m/(m+1)*mu_0
var_post <- sigma^2/(m+1)
plot(x, dnorm(x,mu_0,tau), type = "l")
lines(x,dnorm(x,mean_post, sqrt(var_post)), add = TRUE)
plot(x, dnorm(x,mu_0,tau), type = "l")
lines(x,dnorm(x,mean_post, sqrt(var_post)))
plot(x, dnorm(x,mu_0,tau), type = "l", ylim = c(0,45))
lines(x,dnorm(x,mean_post, sqrt(var_post)))
sigma <- 0.01
tau <- 0.02
m <- sigma^2/tau^2
x <- seq(0,0.1, length = 100)
y <- 0.082
mu_0 <-  0.05
mean_post <- 1/(m+1)*y + m/(m+1)*mu_0
var_post <- sigma^2/(m+1)
plot(x, dnorm(x,mu_0,tau), type = "l", ylim = c(0,45))
lines(x,dnorm(x,mean_post, sqrt(var_post)))
1-pnorm(0.08, mean_post, sqrt(var_post))
data_5130[data_5130$site == 5379]
map_data <-  data_5130[data_5130$site == 5379] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
map_data <-  data_5130[data_5130$site == 5379] %>%  Select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
library(tidyverse)
library(ggmap)
library(tmaptools)
library(sp)
library(rgdal)
library(mapproj)
library(ggrepel)
map_data <-  data_5130[data_5130$site == 5379] %>%  Select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
map_data <-  data_5130[data_5130$site == 5379] %>%  Select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
map_data <-  data_5130[data_5130$site == 5379] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
map_data <-  data_5130[data_5130$site == 5379]
View(map_data)
map_data <-  data_5130[data_5130$site == 5379]
map_data <-  data_5130[]
#%>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
ggmap(get_stamenmap(bbox = c()), zoom = 15))
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0)
map_data <-  data_5130[data_5130$site == 1271]
#%>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
ggmap(get_stamenmap(bbox = c()), zoom = 15))
map_data <-  data_5130[data_5130$site == 1271,]
#%>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
ggmap(get_stamenmap(bbox = c()), zoom = 15))
map_data <-  data_5130[data_5130$site == 4531,]
#%>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
ggmap(get_stamenmap(bbox = c()), zoom = 15))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
ggmap(get_stamenmap(bbox = c()), zoom = 15))
View(map_data)
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
ggmap(get_stamenmap(bbox = c(left = x_min, right = x_max, bottom = y_min, top = y_max))))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
ggmap(get_stamenmap(bbox = c(left = x_min, right = x_max, bottom = y_min, top = y_max)))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
ggmap(get_stamenmap(bbox = c(left = x_min-1, right = x_max, bottom = y_min-1, top = y_max)))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
ggmap(get_stamenmap(bbox = c(left = x_min-1, right = x_max, bottom = y_min-1, top = y_max), maptype = "terrain-labels"))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
ggmap(get_stamenmap(bbox = c(left = x_min-1, right = x_max, bottom = y_min-1, top = y_max), maptype = "terrain"))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
ggmap(get_stamenmap(bbox = c(left = x_min, right = x_max, bottom = y_min, top = y_max), maptype = "terrain"))
install.packages("osmar")
library(osmar)
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap(upperLeft = c(x_min, y_mx), lowerRight = c(x_max, y_min))
library(osmar)
library(maps)
library(tidyverse)
library(ggmap)
library(tmaptools)
library(sp)
library(rgdal)
library(mapproj)
library(ggrepel)
library(osmar)
library(maps)
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap(upperLeft = c(x_min, y_mx), lowerRight = c(x_max, y_min))
baseUrl <- "https://api.mapbox.com/styles/v1/mapbox/dark-v9/tiles/256/{z}/{x}/{y}"
map <- openmap(c(43.46886761482925,119.94873046875),
c(33.22949814144951,133.9892578125),
minNumTiles=4,
type=paste0(baseUrl,apiKey))
library(osmar)
library(maps)
install.packages("osmar")
install.packages("osmar")
library("osmar")
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
data_2014 <-read.csv("../Data/Processed data/data_2014_5130.csv")
data_5130 <-read.csv("../Data/Processed data/data_5130.csv")
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
library(tidyverse)
library(ggmap)
library(tmaptools)
library(sp)
library(rgdal)
library(mapproj)
library(ggrepel)
library(osmar)
library(maps)
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
data_5130 <- convert_to_longlat(data_5130, data_5130$UTMx, data_5130$UTMy)
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
data_5130 <- convert_to_longlat(data_5130, data_5130$UTMx, data_5130$UTMy)
View(data_5130)
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),mean,na.rm = TRUE)
mean_site_pos <-  rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
data_5130 <-left_join(data_5130,mean_site_pos, by = "site")
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap(upperLeft = c(x_min, y_mx), lowerRight = c(x_max, y_min))
install.packages("OpenStreetMap")
library(OpenStreetMap)
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap(upperLeft = c(x_min, y_mx), lowerRight = c(x_max, y_min))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min))
baseUrl <- "https://api.mapbox.com/styles/v1/mapbox/dark-v9/tiles/256/{z}/{x}/{y}"
map <- openmap(c(43.46886761482925,119.94873046875),
c(33.22949814144951,133.9892578125),
minNumTiles=4,
type=paste0(baseUrl,apiKey))
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "apple-iphoto")
map_data <-  data_5130[data_5130$site == 4531,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "osm")
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0)
map_data <-  data_5130[data_5130$site == 4572,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "osm")
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "osm")
View(openmap_map)
plot(openmap_map)
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "apple-iphoto")
plot(openmap_map)
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "stamen-terrain")
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "esri-topo")
plot(openmap_map)
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "mapbox")
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "stamen")
map_data <-  data_5130[data_5130$site == 4527,] %>%  select(longtitude, latitude, longtitude_mean_site, latitude_mean_site)
x_min <- min(map_data$longtitude)
x_max <- max(map_data$longtitude)
y_min <-  min(map_data$latitude)
y_max <- max(map_data$latitude)
openmap_map <-  openmap(upperLeft = c(x_min, y_max), lowerRight = c(x_max, y_min), type = "stamen-toner")
plot(openmap_map)
library(tidyverse)
library(fitdistrplus)
library(MASS)
library(VGAM)
data_2014 <- read.csv("../Data/Processed data/data_2014_5130.csv")
data_5130 <- read.csv("../Data/Processed data/data_5130.csv")
ggplot(data = data_2014, mapping = aes(x = antalarter, y = shanon_index, group = site)) +
geom_point(mapping = aes( color = factor(site)), size = 4)
ggplot(mapping =  aes( x = data_2014[,grep("X2020Cover", names(data_2014))]/16)) +
geom_histogram()
ggplot(data = data_5130, mapping = aes(x = factor(year), y = simple_shanon_index)) +
geom_boxplot() + geom_jitter(width=0.1,alpha=0.2)
ggplot(data = data_5130, mapping = aes(x = factor(year), y = simple_shanon_index, fill = factor(enebær))) +
geom_boxplot() + geom_jitter(width=0.1,alpha=0.2)
ggplot(data = data_5130, mapping = aes(x = as.numeric(enebær5md), y = simple_shanon_index)) +
geom_point() +
geom_smooth(method = "lm", formula =  y~x)
lm(data_5130$simple_shanon_index ~ as.numeric(data_5130$enebær5md ))
find_art_nr("Juniperus", latin =  TRUE)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0)
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),mean,na.rm = TRUE)
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0)
library(tidyverse)
library(ggmap)
library(tmaptools)
library(sp)
library(rgdal)
library(mapproj)
library(ggrepel)
library(osmar)
library(maps)
library(OpenStreetMap)
source("functions.r")
data_2014 <-read.csv("../Data/Processed data/data_2014_5130.csv")
data_5130 <-read.csv("../Data/Processed data/data_5130.csv")
ggmap(get_stamenmap(bbox = c(right = 12, left = 8, top = 58, bottom = 54)))
View(data_5130)
plot(openmap_map)
data_2014 <- convert_to_longlat(data_2014, data_2014$UTMx, data_2014$UTMy)
data_5130 <- convert_to_longlat(data_5130, data_5130$UTMx, data_5130$UTMy)
world.map <- map_data ("world")
map1 <- world.map %>% filter(region == "Denmark")
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = data_5130, aes(y=latitude, x = longtitude, label=site),hjust=0, vjust=0, max.overlaps = 100)
mean_site_pos <-  data_5130 %>%
group_by(site) %>%
summarise_at(vars(longtitude, latitude),mean,na.rm = TRUE)
mean_site_pos <-  rename(mean_site_pos, longtitude_mean_site = longtitude, latitude_mean_site = latitude)
data_5130 <-left_join(data_5130,mean_site_pos, by = "site")
ggplot(map1)+
geom_map(map = map1, aes(long, lat, map_id = region), fill="white", colour = "black") +
coord_map() +
geom_point(data = data_5130, aes(y=latitude, x = longtitude, colour = factor(year)), alpha = .9, size =2) +
geom_text_repel(data  = mean_site_pos, aes(y=latitude_mean_site, x = longtitude_mean_site, label=site),hjust=0, vjust=0)
vignette(dplyr)
vignette(tidyverse)
vignette("ggmap")
vignette(tidyverse)
vignette("tidyverse")
browseVignettes(package = NULL, lib.loc = NULL, all = TRUE)
rm(list = ls())
google_data <- read.csv("..\Data\google_Mobility_Report.csv")
google_data <- read.csv("Data\google_Mobility_Report.csv")
google_data <- read.csv("Data/google_Mobility_Report.csv")
google_data <- read.csv("Data/Global_Mobility_Report.csv")
View(google_data)
by_country <- aggregate(x = google_data, by = "country_region", mean )
by_country <- aggregate(x = google_data, by = c("country_region"), mean )
by_country <- aggregate(x = google_data, by = list("country_region"), mean )
by_country <- aggregate(x = google_data, by = list(country_region), mean )
by_country <- aggregate(x = google_data, by = country_region, mean )
by_country <- aggregate(x = google_data, by = google_data$country_region, mean )
by_country <- aggregate(x = google_data, by = list(country_region), mean )
by_country <- aggregate(x = google_data, by = list(country =  google_data$country_region), mean )
View(by_country)
by_country <- aggregate(x = google_data, by = list(country =  google_data$country_region), mean, na.action = na.omit )
by_country <- aggregate(x = google_data, by = list(country =  google_data$country_region), mean, na.rm = TRUE )
by_country <- aggregate(x = google_data, by = list(country =  google_data$country_region), mean, na.rm = TRUE )
View(by_country)
ggplot(data = by_country, ...) +
geom_point(aes(x = parks_percent_change_from_baseline, y = workplace_percent_change_from_baseline))
ggplot(data = by_country) +
geom_point(aes(x = parks_percent_change_from_baseline, y = workplace_percent_change_from_baseline))
ggplot(data = by_country) +
geom_point(aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline))
ggplot(data = by_country) +
geom_point(aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline)) +
geom_label_repel()
ggplot(data = by_country, aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline)) +
geom_point() +
geom_label_repel()
ggplot(data = by_country, aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline, label = country)) +
geom_point() +
geom_label_repel()
ggplot(data = by_country, aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline, label = country)) +
geom_point() +
geom_text_repel()
install.packages("countrycode")
library(tidyverse)
library(ggrepel)
library(countrycode)
by_country$continent <- countrycode(sourcevar = by_country$country, origin = "country.name", destination = "continent")
ggplot(data = by_country, aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline, label = country)) +
geom_point(aes(color = continent)) +
geom_text_repel()
ggplot(data = by_country, aes(x = parks_percent_change_from_baseline, y = residential_percent_change_from_baseline, label = country)) +
geom_point(aes(color = continent)) +
geom_text_repel()
ggplot(data = by_country, aes(x = parks_percent_change_from_baseline, y = workplaces_percent_change_from_baseline, label = country)) +
geom_point(aes(color = continent)) +
geom_text_repel()
